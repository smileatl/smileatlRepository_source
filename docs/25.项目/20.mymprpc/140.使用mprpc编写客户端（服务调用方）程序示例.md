---
title: 使用mprpc编写客户端（服务调用方）程序示例
date: 2023-08-10 23:54:55
permalink: /pages/193dd3/
categories:
  - 项目
  - mynetlib
tags:
  - 
author: 
  name: smileatl
  link: https://github.com/smileatl
---
## 分布式网络通信框架（十四）——使用mprpc编写客户端（服务调用方）程序示例

我们只需要有`libmprpc.a`这个静态库和对应头文件，`protobuf`库、`zookeeper_mt`库、`pthread`库即可：

测试的目录结构如下：

```cpp
jyhlinux@ubuntu:~/share/mprpc/test/mprpcexample$ tree
.
├── callfriendservice.cc
├── friend.pb.cc
├── friend.pb.h
├── lib
│   ├── include
│   │   ├── lockqueue.h
│   │   ├── logger.h
│   │   ├── mprpcapplication.h
│   │   ├── mprpcchannel.h
│   │   ├── mprpcconfig.h
│   │   ├── mprpccontroller.h
│   │   ├── rpcheader.pb.h
│   │   ├── rpcprovider.h
│   │   └── zookeeperutil.h
│   └── libmprpc.a
└── test.conf

```

进行编译生成可执行文件

```sh
g++ callfriendservice.cc  friend.pb.cc -o consumer -I lib/include/ -L lib/ -L /usr/local/lib/ -lprotobuf -lmprpc -lzookeeper_mt -pthread
```

